<div class="container-fluid bg-dark text-light p-0 landing-wrapper">
    <div class="container py-4 mt-3 flex-grow-1 d-flex align-items-center">
        <div class="row g-4 align-items-stretch w-100">

            <!-- Contenido (izquierda) -->
            <div class="col-12 col-md-6 d-flex">
                <div
                    class="comparking-box text-center welcome-message flex-fill d-flex flex-column justify-content-center">
                    <h1 class="display-5 fw-bold mb-3">¡Bienvenidos a Comparking!</h1>
                    <p class="lead mb-4">Aparca mejor. Comparte más. Gana dinero sin esfuerzo.</p>

                    <div class="row justify-content-center mb-4">
                        <div class="col-6">
                            <div class="bg-secondary text-light rounded p-3 shadow-sm">
                                <h5>+120 usuarios registrados</h5>
                                <small>Ya forman parte de la comunidad Comparking.</small>
                            </div>
                        </div>
                        <div class="col-6">
                            <div class="bg-secondary text-light rounded p-3 shadow-sm">
                                <h5>+80 plazas compartidas</h5>
                                <small>Plazas disponibles para alquilar o intercambiar.</small>
                            </div>
                        </div>
                    </div>

                    <!-- Mostrar botón según si el usuario está logueado -->
                    <a *ngIf="!isLogged()" routerLink="/register" class="btn btn-primary btn-lg">
                        Regístrate gratis
                    </a>
                    <a *ngIf="isLogged()" routerLink="/aparcamientos" class="btn btn-primary btn-lg">
                        Comienza a buscar tu aparcamiento
                    </a>
                </div>
            </div>

            <!-- Carrusel (derecha) -->
            <div class="col-12 col-md-6 d-flex">
                <div class="comparking-box w-100">
                    <div id="carouselLanding" class="carousel slide" data-bs-ride="carousel">
                        <div class="carousel-inner">
                            <div class="carousel-item active">
                                <img src="/images/garage-bg-1.jpg" class="d-block w-100 carousel-img" alt="Imagen 1">
                            </div>
                            <div class="carousel-item">
                                <img src="/images/garage-bg-2.jpg" class="d-block w-100 carousel-img" alt="Imagen 2">
                            </div>
                            <div class="carousel-item">
                                <img src="/images/garage-bg-3.jpg" class="d-block w-100 carousel-img" alt="Imagen 3">
                            </div>
                        </div>
                        <button class="carousel-control-prev" type="button" data-bs-target="#carouselLanding"
                            data-bs-slide="prev">
                            <span class="carousel-control-prev-icon"></span>
                        </button>
                        <button class="carousel-control-next" type="button" data-bs-target="#carouselLanding"
                            data-bs-slide="next">
                            <span class="carousel-control-next-icon"></span>
                        </button>
                    </div>
                </div>
            </div>

        </div>
    </div>

    <!-- Reseñas dinámicas -->
    <div class="container mt-5" *ngIf="resenasAleatorias.length > 0">
        <h3 class="text-center mb-4">Lo que opinan nuestros usuarios</h3>
        <div class="row">
            <div *ngFor="let resena of resenasAleatorias" class="col-md-4 mb-4 hover-effect">
                <div class="comparking-box h-100">
                    <h5 class="text-info">{{ resena.username }}</h5>
                    <p class="mb-1">
                        <ng-container *ngFor="let star of [].constructor(resena.puntuacion)">
                            <i class="bi bi-star-fill text-warning"></i>
                        </ng-container>
                    </p>
                    <p class="fst-italic">"{{ resena.comentario }}"</p>
                    <p class="text-end small">{{ resena.fecha | date:'dd/MM/yyyy' }}</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Mapa -->
    <div class="container my-5">
        <h3 class="text-center mb-4">¿Necesitas acudir a nuestras oficinas?</h3>
        <p class="text-center">Puedes visitarnos en el IES Las Fuentezuelas (Jaén). Estamos aquí para ayudarte:</p>
        <div class="text-center">
            <iframe
                src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3153.374241263878!2d-3.807181023562388!3d37.78126841178502!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0xd6dd71774e45867%3A0x99df1e0032930534!2sIES%20Fuentezuelas!5e0!3m2!1ses!2ses!4v1749895481851!5m2!1ses!2ses"
                width="100%" height="400" style="border:0; border-radius: 1rem;" allowfullscreen="" loading="lazy"
                referrerpolicy="no-referrer-when-downgrade"></iframe>
        </div>
    </div>
</div>