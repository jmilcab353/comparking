<div class="container my-5 d-flex justify-content-center">
    <div class="comparking-box p-4 w-100 mb-3" style="max-width: 600px;">
        <h4 class="text-center mb-4">Publicar nuevo aparcamiento</h4>

        <div class="form-group mb-3">
            <label>Dirección <span class="text-danger">*</span></label>
            <input type="text" class="form-control bg-dark text-light" [(ngModel)]="aparcamiento.direccion"
                name="direccion">
        </div>

        <div class="form-group mb-3">
            <label>Localidad <span class="text-danger">*</span></label>
            <input type="text" class="form-control bg-dark text-light" [(ngModel)]="aparcamiento.localidad"
                name="localidad">
        </div>

        <div class="form-group mb-3">
            <label>Provincia <span class="text-danger">*</span></label>
            <input type="text" class="form-control bg-dark text-light" [(ngModel)]="aparcamiento.provincia"
                name="provincia">
        </div>

        <div class="row mb-3">
            <div class="col">
                <label>Ancho (cm) <span class="text-danger">*</span></label>
                <input type="number" class="form-control bg-dark text-light" [(ngModel)]="aparcamiento.ancho"
                    name="ancho" min="1">
            </div>
            <div class="col">
                <label>Largo (cm) <span class="text-danger">*</span></label>
                <input type="number" class="form-control bg-dark text-light" [(ngModel)]="aparcamiento.largo"
                    name="largo" min="1">
            </div>
        </div>

        <div class="row mb-3">
            <div class="col">
                <label>Precio por hora (€) <span class="text-danger">*</span></label>
                <input type="number" class="form-control bg-dark text-light" [(ngModel)]="aparcamiento.precioHora"
                    name="precioHora" min="0.1" step="0.01">
            </div>
            <div class="col">
                <label>Precio por día (€) <span class="text-danger">*</span></label>
                <input type="number" class="form-control bg-dark text-light" [(ngModel)]="aparcamiento.precioDia"
                    name="precioDia" min="0.1" step="0.01">
            </div>
        </div>

        <div class="form-group mb-3">
            <label>Detalles</label>
            <textarea rows="2" class="form-control bg-dark text-light" [(ngModel)]="aparcamiento.detalles"
                name="detalles" maxlength="300"></textarea>
        </div>

        <div class="form-group form-check mb-3">
            <input type="checkbox" class="form-check-input" [(ngModel)]="aparcamiento.techado" name="techado"
                id="techado">
            <label class="form-check-label" for="techado">¿Está techado?</label>
        </div>

        <div class="form-group mb-3">
            <label>Subir imagen</label>
            <input type="file" class="form-control bg-dark text-light border-secondary"
                (change)="onFileSelected($event)">
            <div *ngIf="previewUrl" class="mt-3 text-center">
                <img [src]="previewUrl" alt="Vista previa" class="img-fluid rounded border" style="max-height: 200px;">
            </div>
        </div>

        <div class="d-grid mb-3">
            <button class="btn btn-primary" (click)="publicar()">Publicar aparcamiento</button>
        </div>

        <div *ngIf="errorMessage" class="alert alert-danger text-center p-2">{{ errorMessage }}</div>
        <div *ngIf="mensaje" class="alert alert-success text-center p-2">{{ mensaje }}</div>
    </div>
</div>